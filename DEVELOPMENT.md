# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º –∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã:
- **Development** (–ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä) - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **Production** (–ø—Ä–æ–¥–∞–∫—à–µ–Ω —Å–µ—Ä–≤–µ—Ä)

## üñ•Ô∏è –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (Development)

### –î–ª—è –≤–µ–±-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:
```bash
flutter run -d chrome
# –∏–ª–∏
flutter run -d web-server
```
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç: `http://0.0.0.0:8080/`

### –î–ª—è Android:
```bash
flutter run -d android
```
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç: `http://172.20.10.11:8080/` (IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞)

**–í–∞–∂–Ω–æ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8080
- –ö–æ–º–ø—å—é—Ç–µ—Ä –∏ Android-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏ Wi-Fi
- –ï—Å–ª–∏ IP –∞–¥—Ä–µ—Å –∏–∑–º–µ–Ω–∏–ª—Å—è, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å:
  ```bash
  flutter run -d android --dart-define=localServerIp=192.168.1.100
  ```

### –î–ª—è iOS:
```bash
flutter run -d ios
```
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç: `http://172.20.10.11:8080/` (IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞)

**–í–∞–∂–Ω–æ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8080
- –ö–æ–º–ø—å—é—Ç–µ—Ä –∏ iOS-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏ Wi-Fi
- –ï—Å–ª–∏ IP –∞–¥—Ä–µ—Å –∏–∑–º–µ–Ω–∏–ª—Å—è, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å:
  ```bash
  flutter run -d ios --dart-define=localServerIp=192.168.1.100
  ```

## üåê –ü—Ä–æ–¥–∞–∫—à–µ–Ω —Å–µ—Ä–≤–µ—Ä (Production)

### –î–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º:
```bash
flutter run --dart-define=isDevelopment=false
```

–ò–ª–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:
```bash
# –í–µ–±
flutter run -d chrome --dart-define=isDevelopment=false

# Android
flutter run -d android --dart-define=isDevelopment=false

# iOS
flutter run -d ios --dart-define=isDevelopment=false
```

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç: –ø—É—Å—Ç–æ–π URL (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å), Nginx –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ backend.

## üì¶ –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### –í–µ–±:
```bash
flutter build web --release --dart-define=isDevelopment=false
```

### Android App Bundle (–¥–ª—è Google Play Store):
```bash
flutter build appbundle --release --dart-define=isDevelopment=false
```
–§–∞–π–ª –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤: `build/app/outputs/bundle/release/app-release.aab`

### Android APK (–¥–ª—è –ø—Ä—è–º–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è):
```bash
flutter build apk --release --dart-define=isDevelopment=false
```
–§–∞–π–ª –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤: `build/app/outputs/flutter-apk/app-release.apk`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ Google Play Store –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **App Bundle** (`.aab`), –∞ –Ω–µ APK.

### iOS:
```bash
flutter build ios --release --dart-define=isDevelopment=false
```

## üîß –ö–∞–∫ —É–∑–Ω–∞—Ç—å IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞

### macOS/Linux:
```bash
ifconfig | grep "inet " | grep -v 127.0.0.1
```

### Windows:
```bash
ipconfig
```
–ò—â–∏—Ç–µ IPv4 –∞–¥—Ä–µ—Å –≤ —Ä–∞–∑–¥–µ–ª–µ –≤–∞—à–µ–≥–æ —Å–µ—Ç–µ–≤–æ–≥–æ –∞–¥–∞–ø—Ç–µ—Ä–∞ (–æ–±—ã—á–Ω–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 192.168.x.x –∏–ª–∏ 172.x.x.x)

## ‚öôÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:
```bash
flutter run --dart-define=localServerIp=192.168.1.100
```

### –ö–æ–º–±–∏–Ω–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
```bash
# Production —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º IP (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
flutter run --dart-define=isDevelopment=false --dart-define=localServerIp=192.168.1.100
```

## üìù –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `lib/config/environment.dart`:

- `isDevelopment` - —Ñ–ª–∞–≥ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `true`)
- `localServerIp` - IP –∞–¥—Ä–µ—Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `172.20.10.11`)

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "Connection refused" –Ω–∞ Android/iOS:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–º–ø—å—é—Ç–µ—Ä –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP –∞–¥—Ä–µ—Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ (–º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è)
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π—Ä–≤–æ–ª–ª –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ä—Ç 8080

### –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å IP –∞–¥—Ä–µ—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `lib/config/environment.dart`:
```dart
static const String localServerIp = String.fromEnvironment('localServerIp', defaultValue: '–í–ê–®_–ù–û–í–´–ô_IP');
```

## üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∞ URL

### Development (–ª–æ–∫–∞–ª—å–Ω—ã–π):
- –í–µ–±: `http://0.0.0.0:8080/`
- –ú–æ–±–∏–ª—å–Ω—ã–µ: `http://172.20.10.11:8080/` (–∏–ª–∏ –≤–∞—à IP)

### Production:
- –í—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã: –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞)
- Nginx –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã: `/api`, `/stories`, `/news`, `/auth`, `/learning`, `/profiles`, `/openapi`

