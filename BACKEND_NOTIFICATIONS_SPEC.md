# –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è —Ä–∞–∑–¥–µ–ª–∞ "–ü–æ –ø—É—Ç–∏"

## –û–±–∑–æ—Ä

–î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –ø—Ä–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö –≤ —Ä–∞–∑–¥–µ–ª–µ "–ü–æ –ø—É—Ç–∏".

## 1. Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (FCM)

### 1.1. –î–ª—è –ø–∏–ª–æ—Ç–∞

#### 1.1.1. –ù–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (`new_booking`)
**–ö–æ–≥–¥–∞:** –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –ø–æ–ª–µ—Ç –ø–∏–ª–æ—Ç–∞

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:**
```json
{
  "type": "new_booking",
  "flight_id": "123",
  "screen": "flight_detail",
  "title": "–ù–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ",
  "body": "–ü–∞—Å—Å–∞–∂–∏—Ä –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–ª –º–µ—Å—Ç–æ –Ω–∞ –≤–∞—à –ø–æ–ª–µ—Ç"
}
```

**–ù–∞–≤–∏–≥–∞—Ü–∏—è:** –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–ª–µ—Ç–∞ (`/on-the-way/{flight_id}`)

#### 1.1.2. –ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å (`new_question`)
**–ö–æ–≥–¥–∞:** –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–∞ –∫ –ø–æ–ª–µ—Ç—É

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:**
```json
{
  "type": "new_question",
  "flight_id": "123",
  "screen": "flight_detail",
  "title": "–ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å",
  "body": "–ü–∞—Å—Å–∞–∂–∏—Ä –∑–∞–¥–∞–ª –≤–æ–ø—Ä–æ—Å –æ –≤–∞—à–µ–º –ø–æ–ª–µ—Ç–µ"
}
```

**–ù–∞–≤–∏–≥–∞—Ü–∏—è:** –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–ª–µ—Ç–∞ (`/on-the-way/{flight_id}`)

#### 1.1.3. –ù–æ–≤—ã–π –æ—Ç–∑—ã–≤ (`new_review`)
**–ö–æ–≥–¥–∞:** –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ—Ç–∑—ã–≤–∞ –æ –ø–∏–ª–æ—Ç–µ

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:**
```json
{
  "type": "new_review",
  "flight_id": "123",
  "screen": "flight_detail",
  "title": "–ù–æ–≤—ã–π –æ—Ç–∑—ã–≤",
  "body": "–ü–∞—Å—Å–∞–∂–∏—Ä –æ—Å—Ç–∞–≤–∏–ª –æ—Ç–∑—ã–≤ –æ –≤–∞—Å"
}
```

**–ù–∞–≤–∏–≥–∞—Ü–∏—è:** –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–ª–µ—Ç–∞ (`/on-the-way/{flight_id}`)

#### 1.1.4. –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (`booking_cancelled`)
**–ö–æ–≥–¥–∞:** –ü—Ä–∏ –æ—Ç–º–µ–Ω–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Å—Å–∞–∂–∏—Ä–æ–º

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:**
```json
{
  "type": "booking_cancelled",
  "flight_id": "123",
  "screen": "flight_detail",
  "title": "–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ",
  "body": "–ü–∞—Å—Å–∞–∂–∏—Ä –æ—Ç–º–µ–Ω–∏–ª –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –≤–∞—à –ø–æ–ª–µ—Ç"
}
```

**–ù–∞–≤–∏–≥–∞—Ü–∏—è:** –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–ª–µ—Ç–∞ (`/on-the-way/{flight_id}`)

### 1.2. –î–ª—è –ø–∞—Å—Å–∞–∂–∏—Ä–∞

#### 1.2.1. –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ (`booking_confirmed`)
**–ö–æ–≥–¥–∞:** –ü—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∏–ª–æ—Ç–æ–º

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:**
```json
{
  "type": "booking_confirmed",
  "flight_id": "123",
  "screen": "flight_detail",
  "title": "–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ",
  "body": "–ü–∏–ª–æ—Ç –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –≤–∞—à–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"
}
```

**–ù–∞–≤–∏–≥–∞—Ü–∏—è:** –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–ª–µ—Ç–∞ (`/on-the-way/{flight_id}`)

#### 1.2.2. –û—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å (`question_answered`)
**–ö–æ–≥–¥–∞:** –ü—Ä–∏ –æ—Ç–≤–µ—Ç–µ –ø–∏–ª–æ—Ç–∞ –Ω–∞ –≤–æ–ø—Ä–æ—Å

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:**
```json
{
  "type": "question_answered",
  "flight_id": "123",
  "screen": "flight_detail",
  "title": "–û—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å",
  "body": "–ü–∏–ª–æ—Ç –æ—Ç–≤–µ—Ç–∏–ª –Ω–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å"
}
```

**–ù–∞–≤–∏–≥–∞—Ü–∏—è:** –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–ª–µ—Ç–∞ (`/on-the-way/{flight_id}`)

#### 1.2.3. –ü–æ–ª—É—á–µ–Ω –æ—Ç–∑—ã–≤ (`review_received`)
**–ö–æ–≥–¥–∞:** –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ—Ç–∑—ã–≤–∞ –æ –ø–∞—Å—Å–∞–∂–∏—Ä–µ

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:**
```json
{
  "type": "review_received",
  "flight_id": "123",
  "screen": "flight_detail",
  "title": "–ù–æ–≤—ã–π –æ—Ç–∑—ã–≤",
  "body": "–ü–∏–ª–æ—Ç –æ—Å—Ç–∞–≤–∏–ª –æ—Ç–∑—ã–≤ –æ –≤–∞—Å"
}
```

**–ù–∞–≤–∏–≥–∞—Ü–∏—è:** –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–ª–µ—Ç–∞ (`/on-the-way/{flight_id}`)

## 2. Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–í—Å–µ —Å–æ–±—ã—Ç–∏—è —Ç–∞–∫–∂–µ –¥–æ–ª–∂–Ω—ã –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ Telegram –∫–∞–Ω–∞–ª –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

### 2.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```env
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHANNEL_ID=your_channel_id_here
BASE_URL=https://avia-point.com
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞:**
1. –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
2. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
3. –ü–æ–ª—É—á–∏—Ç—å ID –∫–∞–Ω–∞–ª–∞ (–∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
4. –î–æ–±–∞–≤–∏—Ç—å –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### 2.2. –§–æ—Ä–º–∞—Ç—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

#### 2.2.1. –ù–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
```
‚úàÔ∏è –ù–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

üë§ –ü–∞—Å—Å–∞–∂–∏—Ä: {passenger_first_name} {passenger_last_name}
üìû –¢–µ–ª–µ—Ñ–æ–Ω: {passenger_phone}
üìß Email: {passenger_email}
ü™ë –ú–µ—Å—Ç: {seats_count}
üí∞ –°—É–º–º–∞: {total_price} ‚ÇΩ

‚úàÔ∏è –ü–æ–ª—ë—Ç:
üìç –ú–∞—Ä—à—Ä—É—Ç: {departure_airport} ‚Üí {arrival_airport}
üìÖ –î–∞—Ç–∞: {departure_date}
üÜî ID –ø–æ–ª—ë—Ç–∞: {flight_id}

üîó –°—Å—ã–ª–∫–∞: {base_url}/on-the-way/{flight_id}
```

#### 2.2.2. –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ
```
‚úÖ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ

üë§ –ü–∞—Å—Å–∞–∂–∏—Ä: {passenger_first_name} {passenger_last_name}
‚úàÔ∏è –ü–æ–ª—ë—Ç: {departure_airport} ‚Üí {arrival_airport}
üìÖ –î–∞—Ç–∞: {departure_date}
üÜî ID –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: {booking_id}

üîó –°—Å—ã–ª–∫–∞: {base_url}/on-the-way/{flight_id}
```

#### 2.2.3. –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ
```
‚ùå –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ

üë§ –ü–∞—Å—Å–∞–∂–∏—Ä: {passenger_first_name} {passenger_last_name}
‚úàÔ∏è –ü–æ–ª—ë—Ç: {departure_airport} ‚Üí {arrival_airport}
üìÖ –î–∞—Ç–∞: {departure_date}
üÜî ID –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: {booking_id}

üîó –°—Å—ã–ª–∫–∞: {base_url}/on-the-way/{flight_id}
```

#### 2.2.4. –ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å
```
‚ùì –ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å –∫ –ø–æ–ª—ë—Ç—É

üë§ –ü–∞—Å—Å–∞–∂–∏—Ä: {passenger_first_name} {passenger_last_name}
‚úàÔ∏è –ü–æ–ª—ë—Ç: {departure_airport} ‚Üí {arrival_airport}
üìÖ –î–∞—Ç–∞: {departure_date}
üÜî ID –ø–æ–ª—ë—Ç–∞: {flight_id}

üí¨ –í–æ–ø—Ä–æ—Å:
{question_text}

üîó –°—Å—ã–ª–∫–∞: {base_url}/on-the-way/{flight_id}
```

#### 2.2.5. –û—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å
```
üí¨ –û—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å

üë§ –ü–∏–ª–æ—Ç: {pilot_first_name} {pilot_last_name}
‚úàÔ∏è –ü–æ–ª—ë—Ç: {departure_airport} ‚Üí {arrival_airport}
üìÖ –î–∞—Ç–∞: {departure_date}
üÜî ID –ø–æ–ª—ë—Ç–∞: {flight_id}

üí¨ –û—Ç–≤–µ—Ç:
{answer_text}

üîó –°—Å—ã–ª–∫–∞: {base_url}/on-the-way/{flight_id}
```

#### 2.2.6. –ù–æ–≤—ã–π –æ—Ç–∑—ã–≤ –æ –ø–∏–ª–æ—Ç–µ
```
‚≠ê –ù–æ–≤—ã–π –æ—Ç–∑—ã–≤ –æ –ø–∏–ª–æ—Ç–µ

üë§ –ê–≤—Ç–æ—Ä –æ—Ç–∑—ã–≤–∞: {reviewer_first_name} {reviewer_last_name}
üë®‚Äç‚úàÔ∏è –ü–∏–ª–æ—Ç: {pilot_first_name} {pilot_last_name}
‚≠ê –†–µ–π—Ç–∏–Ω–≥: {rating}/5
‚úàÔ∏è –ü–æ–ª—ë—Ç: {departure_airport} ‚Üí {arrival_airport}
üìÖ –î–∞—Ç–∞: {departure_date}
üÜî ID –ø–æ–ª—ë—Ç–∞: {flight_id}

üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:
{comment}

üîó –°—Å—ã–ª–∫–∞: {base_url}/on-the-way/{flight_id}
```

#### 2.2.7. –ù–æ–≤—ã–π –æ—Ç–∑—ã–≤ –æ –ø–∞—Å—Å–∞–∂–∏—Ä–µ
```
‚≠ê –ù–æ–≤—ã–π –æ—Ç–∑—ã–≤ –æ –ø–∞—Å—Å–∞–∂–∏—Ä–µ

üë®‚Äç‚úàÔ∏è –ü–∏–ª–æ—Ç: {pilot_first_name} {pilot_last_name}
üë§ –ü–∞—Å—Å–∞–∂–∏—Ä: {passenger_first_name} {passenger_last_name}
‚≠ê –†–µ–π—Ç–∏–Ω–≥: {rating}/5
‚úàÔ∏è –ü–æ–ª—ë—Ç: {departure_airport} ‚Üí {arrival_airport}
üìÖ –î–∞—Ç–∞: {departure_date}
üÜî ID –ø–æ–ª—ë—Ç–∞: {flight_id}

üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:
{comment}

üîó –°—Å—ã–ª–∫–∞: {base_url}/on-the-way/{flight_id}
```

## 3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –±—ç–∫–µ–Ω–¥–µ

### 3.1. –û–±—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram

```php
private function sendTelegramNotification($message) {
    $botToken = env('TELEGRAM_BOT_TOKEN');
    $channelId = env('TELEGRAM_CHANNEL_ID');
    
    if (!$botToken || !$channelId) {
        \Log::warning('Telegram bot token or channel ID not configured');
        return;
    }
    
    $url = "https://api.telegram.org/bot{$botToken}/sendMessage";
    $data = [
        'chat_id' => $channelId,
        'text' => $message,
        'parse_mode' => 'HTML'
    ];
    
    try {
        $ch = curl_init($url);
        curl_setopt($ch, CURLOPT_POST, 1);
        curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($data));
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
        $response = curl_exec($ch);
        $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
        curl_close($ch);
        
        if ($httpCode !== 200) {
            \Log::error('Failed to send Telegram notification', [
                'http_code' => $httpCode,
                'response' => $response
            ]);
        }
    } catch (\Exception $e) {
        \Log::error('Error sending Telegram notification: ' . $e->getMessage());
    }
}
```

### 3.2. –¢–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

#### 3.2.1. –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
**–§–∞–π–ª:** `routes/api.php` –∏–ª–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π

**–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–∏–ª–æ—Ç—É (`new_booking`)
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

#### 3.2.2. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
**–ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–∞—Å—Å–∞–∂–∏—Ä—É (`booking_confirmed`)
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

#### 3.2.3. –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
**–ü–æ—Å–ª–µ –æ—Ç–º–µ–Ω—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–∏–ª–æ—Ç—É (`booking_cancelled`)
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

#### 3.2.4. –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞
**–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤–æ–ø—Ä–æ—Å–∞:**
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–∏–ª–æ—Ç—É (`new_question`)
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

#### 3.2.5. –û—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å
**–ü–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –≤–æ–ø—Ä–æ—Å:**
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–∞—Å—Å–∞–∂–∏—Ä—É (`question_answered`)
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

#### 3.2.6. –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –æ –ø–∏–ª–æ—Ç–µ
**–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–∑—ã–≤–∞ –æ –ø–∏–ª–æ—Ç–µ:**
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–∏–ª–æ—Ç—É (`new_review`)
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

#### 3.2.7. –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –æ –ø–∞—Å—Å–∞–∂–∏—Ä–µ
**–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–∑—ã–≤–∞ –æ –ø–∞—Å—Å–∞–∂–∏—Ä–µ:**
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–∞—Å—Å–∞–∂–∏—Ä—É (`review_received`)
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

### 3.3. –û—Ç–ø—Ä–∞–≤–∫–∞ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ FCM:**
```php
private function sendPushNotification($userId, $title, $body, $data) {
    // –ü–æ–ª—É—á–∏—Ç—å FCM —Ç–æ–∫–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Ç–∞–±–ª–∏—Ü—ã fcm_tokens
    $tokens = DB::table('fcm_tokens')
        ->where('user_id', $userId)
        ->pluck('fcm_token')
        ->toArray();
    
    if (empty($tokens)) {
        return;
    }
    
    $serverKey = env('FCM_SERVER_KEY');
    
    foreach ($tokens as $token) {
        $notification = [
            'title' => $title,
            'body' => $body,
            'sound' => 'default',
        ];
        
        $fields = [
            'to' => $token,
            'notification' => $notification,
            'data' => $data,
        ];
        
        $headers = [
            'Authorization: key=' . $serverKey,
            'Content-Type: application/json',
        ];
        
        $ch = curl_init();
        curl_setopt($ch, CURLOPT_URL, 'https://fcm.googleapis.com/fcm/send');
        curl_setopt($ch, CURLOPT_POST, true);
        curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
        curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
        curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($fields));
        $result = curl_exec($ch);
        curl_close($ch);
    }
}
```

## 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- –ï—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å, –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é
- –ï—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å, –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –æ—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏

## 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
1. –°–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–∏–ª–æ—Ç –ø–æ–ª—É—á–∏–ª push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤ Telegram –∫–∞–Ω–∞–ª –ø—Ä–∏—à–ª–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

### –¢–µ—Å—Ç 2: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
1. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–∞—Å—Å–∞–∂–∏—Ä –ø–æ–ª—É—á–∏–ª push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤ Telegram –∫–∞–Ω–∞–ª –ø—Ä–∏—à–ª–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

### –¢–µ—Å—Ç 3: –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞
1. –°–æ–∑–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–∏–ª–æ—Ç –ø–æ–ª—É—á–∏–ª push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤ Telegram –∫–∞–Ω–∞–ª –ø—Ä–∏—à–ª–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

### –¢–µ—Å—Ç 4: –û—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å
1. –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–∞—Å—Å–∞–∂–∏—Ä –ø–æ–ª—É—á–∏–ª push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤ Telegram –∫–∞–Ω–∞–ª –ø—Ä–∏—à–ª–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

### –¢–µ—Å—Ç 5: –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞
1. –°–æ–∑–¥–∞—Ç—å –æ—Ç–∑—ã–≤
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–æ–ª—É—á–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏–ª push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤ Telegram –∫–∞–Ω–∞–ª –ø—Ä–∏—à–ª–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

## 6. –ß–µ–∫-–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω Telegram –±–æ—Ç –∏ –∫–∞–Ω–∞–ª
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Telegram
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–∞
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ –æ—Ç–≤–µ—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ—Ç–∑—ã–≤–∞ –æ –ø–∏–ª–æ—Ç–µ
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ—Ç–∑—ã–≤–∞ –æ –ø–∞—Å—Å–∞–∂–∏—Ä–µ
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
