#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –º–∏–≥—Ä–∞—Ü–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
# –≠—Ç–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—à–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—É "query has no destination for result data"

SERVER="root@83.166.246.205"
SERVER_PATH="/home/aviapoint_server"

echo "üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –º–∏–≥—Ä–∞—Ü–∏–π..."
echo ""
echo "–í–∞—à–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª—è—é—Ç –æ—à–∏–±–∫—É PostgreSQL:"
echo "  - –ò—Å–ø–æ–ª—å–∑—É—é—Ç SELECT ... INTO –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ SELECT –≤ PERFORM"
echo "  - –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã 'query has no destination'"
echo ""
echo "–í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:"
echo ""
echo "  ssh $SERVER"
echo "  cd $SERVER_PATH"
echo ""
echo "  # 1. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–∞—à–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è"
echo "  git add migrations/071_add_content_and_images_to_news.sql migrations/072_sync_all_tables_and_fields.sql"
echo "  git commit -m 'Fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ query has no destination –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö'"
echo ""
echo "  # 2. –û–±–Ω–æ–≤–∏—Ç—å –∏–∑ GitHub (–º–æ–∂–µ—Ç –±—ã—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç)"
echo "  git pull origin main"
echo ""
echo "  # 3. –ï—Å–ª–∏ –±—É–¥–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç, —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –µ–≥–æ:"
echo "  #    - –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª—ã —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º–∏"
echo "  #    - –ù–∞–π–¥–∏—Ç–µ –º–∞—Ä–∫–µ—Ä—ã <<<<<<< HEAD, =======, >>>>>>>"
echo "  #    - –û—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—Å SELECT ... INTO)"
echo "  #    - –£–¥–∞–ª–∏—Ç–µ –º–∞—Ä–∫–µ—Ä—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞"
echo "  #    - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª—ã"
echo ""
echo "  # 4. –ü–æ—Å–ª–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞:"
echo "  git add ."
echo "  git commit -m 'Merge: –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –º–∏–≥—Ä–∞—Ü–∏–π'"
echo ""
echo "  # 5. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ GitHub"
echo "  git push origin main"
echo ""
